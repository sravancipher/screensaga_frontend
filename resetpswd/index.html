<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Reset Password</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <!-- <script src="resetpswd.js"></script> -->
</head>

<body style="background-color:rgb(15, 13, 22);color: white;">
  <div class="row" style="display: block;margin: auto;width:50%;">
    
      <h1 style="text-align: center;">Reset Password</h1>
      <form method="post">
        <div class="form-floating mb-3 mt-3">
          <input type="email" class="form-control" id="email" placeholder="Enter email" name="email" required>
          <label for="email" class="text-dark">Enter Email</label>
        </div>
        <div class="form-floating mt-3 mb-3">
          <input type="text" class="form-control " id="pwd" placeholder="Reset Password" name="pswd" required>
          <label for="pwd" class="text-dark">Reset Password</label>
        </div>
        <div class="d-grid">
        <button class="btn btn-danger"  id="updatebtn" onclick="resetpswd()">Update Password</button>
      </div>
      </form>
      <h2 id="result"></h2>
    </div>
  <script>
    
async function resetpswd(){
    let mail=document.getElementById("email").value;
    let password=document.getElementById("pwd").value;
   
    axios.put( `https://screensagadb.up.railway.app/user/updatepassword/${mail}/${password}`)
    .then(response => {
        console.log('Success:', response.data);
        if(response.data){
            
            alert('Password Updated Successfully. Login Again');
            // setTimeout(()=>{},3000)
        }
        else{
            alert("The email address provided does not correspond to an existing account")
            // setTimeout(()=>{},3000)
        }
    })
    
    .catch(error => {
        console.error("error is occured");
        alert('An error occurred while sending the reset link.');
        // setTimeout(()=>{},3000)
    });
        console.log("response",res)
    }
    
    
  </script>
</body>

</html>